var controller=function(e,o,n){function r(){}function t(){var o=d.val(),n="请录入您真实的手机号码!",r=12,t=/^1[3|4|5|7|8]\d{9}$/g;h.phone=testInput(o,t,n,r,d);var c={};c.phoneNumber=o,c.templateID=0,h.phone&&e.ajax({type:"post",url:nodeurl+"sendSMSCaptchaCode.do",data:c,dataType:"json",beforeSend:function(o){e("#backgroundFefresh").show()},success:function(o){e("#backgroundFefresh").hide(),"000028"==o.errorcode?a("短信验证码发送成功，请等待!"):(console.log(o),a("短信验证码发送失败"))},error:function(o){e("#backgroundFefresh").hide(),alert(o)}})}function c(){var n,r=i.val(),t=/\d{6}/g,c=r.match(t);if(n=c?!h.phone&&"请填商铺注册人手机号,获取验证码!":"请先填写发到您手上的验证码")return noticeSetTimeoutPublick(n);var u={};u.r_phone=d.val(),u.code=i.val(),e.ajax({type:"post",url:nodeurl+"referee/resetPasswordCheckPhoneNumber.do",data:u,dataType:"json",beforeSend:function(o){e("#backgroundFefresh").show()},success:function(n){o.location.href="findpwd.html?r_phone="+u.r_phone,e("#backgroundFefresh").hide(),"000000"==n.errorcode?o.location.href="findpwd.html?r_phone="+u.r_phone:"000025"==n.errorcode?a("你的手机号尚未注册"):"000030"==n.errorcode?a("短信验证码无效"):"000032"==n.errorcode&&a("验证码校验失败")},error:function(o){e("#backgroundFefresh").hide(),alert(o)}})}function a(o){e(".entry-mark-tips").html(o),e("#entry_mark").show(),e("#entry_mark").on("click",function(){e(this).hide()})}var d=e("#telephone"),i=e("#test-number"),u=e("#test"),h={},s=e("#logn-in");u.on("click",t),s.on("click",c);var f=function(){r()};return{doInit:f}}(Zepto,window,document);$(function(){controller.doInit()});